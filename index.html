
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>twist-explorer-replay-master</title>
    <meta name="description" content="Lovable Generated Project" />
    <meta name="author" content="Lovable" />

    <meta property="og:title" content="twist-explorer-replay-master" />
    <meta property="og:description" content="Lovable Generated Project" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@lovable_dev" />
    <meta name="twitter:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />
    
    <!-- Load libraries as ES modules -->
    <script type="importmap">
    {
      "imports": {
        "@noble/secp256k1": "https://esm.sh/@noble/secp256k1@2.0.0",
        "bs58": "https://esm.sh/bs58@5.0.0",
        "bip39": "https://esm.sh/bip39@3.1.0",
        "bech32": "https://esm.sh/bech32@2.0.0",
        "bitcoinjs-message": "https://esm.sh/bitcoinjs-message@2.2.0",
        "bitcoin-ops": "https://esm.sh/bitcoin-ops@1.4.1",
        "bitcoin-address-validation": "https://esm.sh/bitcoin-address-validation@2.2.3",
        "bitcoinjs-lib": "https://esm.sh/bitcoinjs-lib@6.1.5"
      }
    }
    </script>
    
    <script type="module">
      // Create an ESM library tracker
      window.esmLibraries = {};
      
      // Helper function to mark a library as loaded
      function markLibLoaded(name, module) {
        window.esmLibraries[name] = module;
        console.log(`ESM library ${name} loaded successfully`);
      }
      
      // Load libraries using ES modules
      async function loadLibraries() {
        try {
          // Load secp256k1
          const secp256k1Module = await import('@noble/secp256k1');
          window.secp256k1 = window.nobleSecp256k1 = window.secp = secp256k1Module;
          markLibLoaded('secp256k1', secp256k1Module);
          
          // Load bs58
          const bs58Module = await import('bs58');
          window.bs58 = bs58Module.default || bs58Module;
          markLibLoaded('bs58', window.bs58);
          
          // Load bip39
          const bip39Module = await import('bip39');
          window.bip39 = bip39Module.default || bip39Module;
          markLibLoaded('bip39', window.bip39);
          
          // Load bech32
          const bech32Module = await import('bech32');
          window.bech32 = bech32Module.default || bech32Module;
          markLibLoaded('bech32', window.bech32);
          
          // Load bitcoinjs-message
          const bitcoinMessageModule = await import('bitcoinjs-message');
          window.bitcoinMessage = bitcoinMessageModule.default || bitcoinMessageModule;
          markLibLoaded('bitcoinMessage', window.bitcoinMessage);
          
          // Load bitcoin-address-validation
          const validationModule = await import('bitcoin-address-validation');
          window.bitcoinAddressValidation = window.validate = validationModule.default || validationModule;
          markLibLoaded('bitcoinAddressValidation', window.bitcoinAddressValidation);
          
          // Load bitcoinjs-lib (last since it's the largest)
          try {
            const bitcoinModule = await import('bitcoinjs-lib');
            window.Bitcoin = window.bitcoin = window.bitcoinjs = bitcoinModule;
            markLibLoaded('Bitcoin', window.Bitcoin);
            console.log("All libraries loaded successfully!");
          } catch (e) {
            console.error("Failed to load bitcoinjs-lib:", e);
            // The mock will be created by the initialization process
          }
        } catch (error) {
          console.error("Error loading libraries:", error);
        }
      }
      
      // Start loading libraries
      loadLibraries();
    </script>
    
    <style>
      /* Fix for opaque modals and overlays */
      .bg-black\/80 {
        background-color: rgba(0, 0, 0, 0.8) !important;
      }
      
      /* Ensure all modals and sheets have proper z-index and background */
      [data-radix-popper-content-wrapper],
      [role="dialog"],
      .fixed.inset-0.z-50 {
        z-index: 100 !important;
      }
      
      /* Fix for select dropdowns */
      [data-radix-select-content] {
        background-color: var(--background) !important;
        z-index: 200 !important;
      }
      
      /* Fix for modals */
      .dialog-overlay,
      .dialog-content,
      .sheet-overlay {
        z-index: 50 !important;
        background-color: rgba(0, 0, 0, 0.7) !important;
      }
      
      /* Ensure sheet content is on top with proper background */
      .sheet-content {
        z-index: 51 !important;
        background-color: var(--background) !important;
      }
      
      /* Modal content should be visible */
      [role="dialog"] {
        background-color: var(--background) !important;
      }
    </style>
  </head>

  <body>
    <div id="root"></div>
    <div id="toaster-root"></div>
    
    <!-- IMPORTANT: DO NOT REMOVE THIS SCRIPT TAG OR THIS VERY COMMENT! -->
    <script src="https://cdn.gpteng.co/gptengineer.js" type="module"></script>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
